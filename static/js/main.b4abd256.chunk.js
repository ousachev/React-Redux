(this.webpackJsonpreact_kamasutra=this.webpackJsonpreact_kamasutra||[]).push([[0],{20:function(e,t,a){e.exports={nav:"Navigation_nav__2WiUx",nav__list:"Navigation_nav__list__1lsHl",nav__item:"Navigation_nav__item__20Kmc",nav__link:"Navigation_nav__link__20zGX",active:"Navigation_active__2_iv0"}},22:function(e,t,a){e.exports={header:"Header_header__2G3vU",headerContainer:"Header_headerContainer__Y5lTu",logo:"Header_logo__1n4Vh",loginBlock:"Header_loginBlock__isfSy"}},25:function(e,t,a){e.exports=a.p+"static/media/1.a61d19a0.png"},26:function(e,t,a){e.exports={postSection:"MyPosts_postSection__OEKbd",addPost:"MyPosts_addPost__1I3LG",title:"MyPosts_title__1cZgS"}},27:function(e,t,a){e.exports={profileBlock:"ProfileItem_profileBlock__3x8bF",profileDesc:"ProfileItem_profileDesc__265AB",profileAvatar:"ProfileItem_profileAvatar__3EjtQ"}},28:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__lRT9W",users:"Dialogs_users__4U5si",messages:"Dialogs_messages__NzS9i",active:"Dialogs_active__3XFT0"}},33:function(e,t,a){e.exports={item:"Post_item__2SyKU",avatar:"Post_avatar__68SW3"}},4:function(e,t,a){e.exports={pageList:"UsersFunc_pageList__tcYYo",curPage:"UsersFunc_curPage__3YhWM",usersList:"UsersFunc_usersList__1yaqc",userItem:"UsersFunc_userItem__1yT21",leftSide:"UsersFunc_leftSide__3LQVq",userAvatar:"UsersFunc_userAvatar__2bggD",followButton:"UsersFunc_followButton__Ux-OV",unfollowButton:"UsersFunc_unfollowButton__2mFur",rightSide:"UsersFunc_rightSide__32537",userDesc:"UsersFunc_userDesc__3pFct",userName:"UsersFunc_userName__3mJwt",userStatus:"UsersFunc_userStatus__3F0rz",userLocation:"UsersFunc_userLocation__3zG7s",userCity:"UsersFunc_userCity__3KT1n"}},47:function(e,t,a){e.exports=a.p+"static/media/2.69479e8a.gif"},48:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){e.exports=a(80)},56:function(e,t,a){},57:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),i=a.n(s),o=(a(56),a(57),a(20)),l=a.n(o),c=a(3),u=function(){var e=l.a.nav,t=l.a.nav__list,a=l.a.nav__item,n=l.a.nav__link,s=l.a.active;return r.a.createElement("nav",{className:e},r.a.createElement("ul",{className:t},r.a.createElement("li",{className:a},r.a.createElement(c.b,{className:n,activeClassName:s,to:"/profile",exact:!0},"Profile")),r.a.createElement("li",{className:a},r.a.createElement(c.b,{className:n,activeClassName:s,to:"/dialogs"},"Messages")),r.a.createElement("li",{className:a},r.a.createElement(c.b,{className:n,activeClassName:s,to:"/users"},"Users")),r.a.createElement("li",{className:a},r.a.createElement(c.b,{className:n,activeClassName:s,to:"/news"},"News")),r.a.createElement("li",{className:a},r.a.createElement(c.b,{className:n,activeClassName:s,to:"/music"},"Music")),r.a.createElement("li",{className:a},r.a.createElement(c.b,{className:n,activeClassName:s,to:"/settings"},"Settings"))))},m=a(14),g=a(15),d=a(17),f=a(16),p=a(18),E=a(7),v=a(11),N=a(10),h=a(1),w=a(46).create({withCredentials:!0,headers:{"API-KEY":"26f8766b-034d-4092-b8b3-79a879ee6969"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),b=function(e){var t=e.currentPage,a=e.pageSize;return w.get("users?page=".concat(t,"&count=").concat(a)).then((function(e){return e.data}))},O=function(e){return w.post("follow/".concat(e),{})},A=function(e){return w.delete("https://social-network.samuraijs.com/api/1.0/follow/".concat(e))},_=function(e){return w.get("profile/"+e)},j=function(){return w.get("auth/me")},U={postData:[{id:1,message:"Hello my Friend",likesCount:3},{id:2,message:"Reaaaaaaact",likesCount:24}],newPostText:"Hello",profile:null},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return Object(h.a)({},e,{postData:[].concat(Object(N.a)(e.postData),[{id:5,message:e.newPostText,likesCount:0}]),newPostText:""});case"UPDATE_POST_TEXT":return Object(h.a)({},e,{newPostText:t.newText});case"SET_USER_PROFILE":return Object(h.a)({},e,{profile:t.profile});default:return e}},x=a(26),P=a.n(x),D=a(33),T=a.n(D),M=function(e){var t=e.message,a=e.likeCounter,n=T.a.item,s=T.a.avatar;return r.a.createElement("div",null,r.a.createElement("div",{className:n},r.a.createElement("img",{className:s,src:"data:image/png;base64,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",alt:""}),t," ",a))},F=function(e){var t=e.profilePage,a=t.postData,n=t.newPostText,s=e.addPost,i=e.updateNewPostChange,o=P.a.postSection,l=P.a.addPostButton,c=P.a.title,u=a.map((function(e){return r.a.createElement(M,{message:e.message,likeCounter:e.likeCount,id:e.id,key:e.id})})),m=r.a.createRef();return r.a.createElement("div",{className:o},r.a.createElement("div",null,r.a.createElement("textarea",{onChange:function(){var e=m.current.value;i(e)},ref:m,value:n,cols:"30",rows:"3"})),r.a.createElement("button",{onClick:function(){s()},className:l},"add Post"),r.a.createElement("h3",{className:c},"My posts"),r.a.createElement("div",null,u))},y=Object(E.b)((function(e){return{profilePage:e.profilePage}}),{updatePostText:function(e){return{type:"UPDATE_POST_TEXT",newText:e}},addPost:function(){return{type:"ADD_POST"}}})(F),C=a(27),L=a.n(C),I=a(47),k=a.n(I),G=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:k.a,alt:"preloader"}))},R=a(25),Y=a.n(R),W=function(e){var t=e.profile,a=L.a.profileDesc,n=L.a.profileBlock,s=L.a.profileAvatar;return t?r.a.createElement("div",{className:n},r.a.createElement("img",{className:s,src:t.photos.large?t.photos.large:Y.a,alt:""}),r.a.createElement("div",{className:a},r.a.createElement("div",null,"\u0421\u0442\u0430\u0442\u0443\u0441:",t.aboutMe),r.a.createElement("ul",null,Object.entries(t.contacts).map((function(e){return r.a.createElement("li",{key:e[0]},e[1])}))))):r.a.createElement(G,null)},B=function(e){return r.a.createElement("div",null,r.a.createElement(W,{profile:e.profile}),r.a.createElement(y,null))},z=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getUserProfile,a=e.match.params.userId;a||(a=2),t(a)}},{key:"render",value:function(){return r.a.createElement(B,Object.assign({},this.props,{profile:this.props.profile}))}}]),t}(n.Component),Z=Object(v.f)(z),H=Object(E.b)((function(e){return{profile:e.profilePage.profile}}),{getUserProfile:function(e){return function(t){_(e).then((function(e){t({type:"SET_USER_PROFILE",profile:e.data})}))}}})(Z),Q=a(48),X=a.n(Q),q=function(e){var t=e.name,a=e.id,n=X.a.user,s="dialogs/"+a;return r.a.createElement("li",{className:n},r.a.createElement(c.b,{to:s},t))},K=a(28),V=a.n(K),J=a(49),$=a.n(J),ee=function(e){var t=e.text,a=$.a.message;return r.a.createElement("li",{className:a},t)},te=function(e){var t=e.dialogsPage,a=t.dialogData,n=t.messagesData,s=t.newMessageText,i=e.sendNewMessage,o=e.updateNewMessageText,l=a.map((function(e){return r.a.createElement(q,{name:e.name,id:e.id,key:e.id})})),c=n.map((function(e){return r.a.createElement(ee,{text:e.text,id:e.id,key:e.id})})),u=V.a.dialogs,m=V.a.users,g=V.a.messages;return r.a.createElement("div",{className:u},r.a.createElement("ul",{className:m},l),r.a.createElement("div",null,r.a.createElement("ul",{className:g},c),r.a.createElement("textarea",{onChange:function(e){var t=e.target.value;o(t)},value:s,placeholder:"Enter your message..."}),r.a.createElement("button",{onClick:function(){i()}},"Send")))},ae={dialogData:[{name:"Evgeny",id:"1"},{name:"Oleg",id:"2"},{name:"Petr",id:"3"},{name:"Max",id:"4"},{name:"Sergey",id:"5"},{name:"Evgeny",id:"6"}],messagesData:[{id:1,text:"Hi"},{id:2,text:"Bye"},{id:3,text:"Dye"},{id:4,text:"Cry"},{id:5,text:"Fly"},{id:6,text:"Try"}],newMessageText:""},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_NEW_MESSAGE_TEXT":return Object(h.a)({},e,{newMessageText:t.newMessage});case"SEND_NEW_MESSAGE":var a=e.newMessageText;return Object(h.a)({},e,{messagesData:[].concat(Object(N.a)(e.messagesData),[{id:7,text:a}]),newMessageText:""});default:return e}},re=Object(E.b)((function(e){return{dialogsPage:e.dialogsPage}}),{sendNewMessage:function(){return{type:"SEND_NEW_MESSAGE"}},updateNewMessageText:function(e){return{type:"UPDATE_NEW_MESSAGE_TEXT",newMessage:e}}})(te),se={users:[],pageSize:30,currentPage:1,totalUsers:0,isLoading:!0,isFollowing:[]},ie=function(e){return{type:"SET_IS_LOADING",isLoading:e}},oe=function(e,t){return{type:"TOGGLE_IS_FOLLOWING",isLoading:e,id:t}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(h.a)({},e,{users:e.users.map((function(e){return e.id===t.id?Object(h.a)({},e,{followed:!0}):e}))});case"UNFOLLOW":return Object(h.a)({},e,{users:Object(N.a)(e.users.map((function(e){return e.id===t.id?Object(h.a)({},e,{followed:!1}):e})))});case"SET_USERS":return Object(h.a)({},e,{users:Object(N.a)(t.users)});case"SET_TOTAL_USERS":return Object(h.a)({},e,{totalUsers:t.totalUsers});case"SET_CURRENT_PAGE":return Object(h.a)({},e,{currentPage:t.currentPage});case"SET_IS_LOADING":return Object(h.a)({},e,{isLoading:t.isLoading});case"TOGGLE_IS_FOLLOWING":return Object(h.a)({},e,{isFollowing:t.isLoading?[].concat(Object(N.a)(e.isFollowing),[t.id]):[e.isFollowing.filter((function(e){return e!==t.id}))]});default:return e}},ce=a(4),ue=a.n(ce),me=function(e){for(var t=e.users,a=e.follow,n=e.unfollow,s=e.totalUsers,i=e.currentPage,o=e.pageSize,l=e.onPageChanged,u=e.isFollowing,m=ue.a.leftSide,g=ue.a.rightSide,d=ue.a.usersList,f=ue.a.userItem,p=ue.a.userAvatar,E=ue.a.userDesc,v=ue.a.userCity,N=ue.a.userCountry,h=ue.a.followButton,w=ue.a.userLocation,b=ue.a.userName,O=ue.a.userStatus,A=ue.a.unfollowButton,_=ue.a.pageList,j=ue.a.curPage,U=Math.ceil(s/o),S=[],x=1;x<=U;x++)S.push(x);return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:_},S.map((function(e){return r.a.createElement("li",{onClick:function(){return l(e)},className:i===e?j:"",key:e+"id"},e)}))),r.a.createElement("div",{className:d},t.map((function(e){return r.a.createElement("div",{className:f,key:e.id},r.a.createElement("div",{className:m},r.a.createElement(c.b,{to:"/profile/"+e.id},r.a.createElement("div",{className:p},r.a.createElement("img",{style:{width:80,height:80},src:null!=e.photos.small?e.photos.small:Y.a,alt:"ava"}))),e.followed?r.a.createElement("button",{disabled:u.some((function(t){return t===e.id})),onClick:function(){n(e.id)},className:A},"UNFOLLOW"):r.a.createElement("button",{disabled:u.some((function(t){return t===e.id})),onClick:function(){a(e.id)},className:h},"FOLLOW")),r.a.createElement("div",{className:g},r.a.createElement("div",{className:E},r.a.createElement("span",{className:b},e.name),r.a.createElement("span",{className:O},"user.status")),r.a.createElement("div",{className:w},r.a.createElement("div",{className:v},"user.location.city"),r.a.createElement("div",{className:N},"user.location.country"))))}))))},ge=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){var t=a.props;(0,t.getUsers)(e,t.pageSize)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getUsers)(e.currentPage,e.pageSize)}},{key:"render",value:function(){var e=this.props,t=e.totalUsers,a=e.users,n=e.pageSize,s=e.currentPage,i=e.follow,o=e.unfollow,l=e.isLoading,c=e.isFollowing;return r.a.createElement(r.a.Fragment,null,l?r.a.createElement(G,null):r.a.createElement(me,{onPageChanged:this.onPageChanged,users:a,totalUsers:t,pageSize:n,currentPage:s,follow:i,unfollow:o,isFollowing:c}))}}]),t}(n.Component),de=Object(E.b)((function(e){var t=e.usersPage;return{users:t.users,pageSize:t.pageSize,currentPage:t.currentPage,totalUsers:t.totalUsers,isLoading:t.isLoading,isFollowing:t.isFollowing}}),{follow:function(e){return function(t){t(oe(!0,e)),O(e).then((function(a){0===a.data.resultCode&&t({type:"FOLLOW",id:e}),t(oe(!1,e))}))}},unfollow:function(e){return function(t){t(oe(!0,e)),A(e).then((function(a){0===a.data.resultCode&&t({type:"UNFOLLOW",id:e}),t(oe(!1,e))}))}},toggleIsFollowing:oe,getUsers:function(e,t){return function(a){a(function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}}(e)),a(ie(!0)),b(e,t).then((function(e){a({type:"SET_USERS",users:e.items}),a({type:"SET_TOTAL_USERS",totalUsers:e.totalCount/4}),a(ie(!1))}))}}})(ge),fe=function(){return r.a.createElement("div",null)},pe=function(){return r.a.createElement("div",null)},Ee=function(){return r.a.createElement("div",null)},ve=a(22),Ne=a.n(ve),he=function(e){var t=e.isAuth,a=Ne.a.header,n=Ne.a.logo,s=Ne.a.loginBlock,i=Ne.a.headerContainer;return r.a.createElement("header",{className:a},r.a.createElement("div",{className:i},r.a.createElement("img",{className:n,src:"https://blog.pioneers.com.ua/wp-content/uploads/2019/01/logo-1.png",alt:""}),r.a.createElement("div",{className:s},t?r.a.createElement(c.b,{to:"/login"},"Logout"):r.a.createElement(c.b,{to:"/login"},"Login"))))},we={isAuth:!1,login:null,email:null,userId:null},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(h.a)({},e,{},t.data,{isAuth:!0});default:return e}},Oe=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.getAuthUserData()}},{key:"render",value:function(){var e=this.props.isAuth;return r.a.createElement(he,{isAuth:e})}}]),t}(n.Component),Ae=Object(E.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{getAuthUserData:function(){return function(e){return j().then((function(t){if(0===t.data.resultCode){var a=t.data.data,n=a.login,r=a.email,s=a.id;e(function(e,t,a){return{type:"SET_USER_DATA",data:{userId:e,email:t,login:a}}}(s,r,n))}}))}}})(Oe),_e=function(){return r.a.createElement(c.a,{basename:""},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement(Ae,null),r.a.createElement(u,null),r.a.createElement("div",{className:"wrapper-content"},r.a.createElement(v.a,{from:"/",to:"/profile"}),r.a.createElement(v.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(H,null)}}),r.a.createElement(v.b,{exact:!0,path:"/dialogs",render:function(){return r.a.createElement(re,null)}}),r.a.createElement(v.b,{exact:!0,path:"/users",render:function(){return r.a.createElement(de,null)}}),r.a.createElement(v.b,{exact:!0,path:"/news",component:fe}),r.a.createElement(v.b,{exact:!0,path:"/music",component:pe}),r.a.createElement(v.b,{exact:!0,path:"/settings",component:Ee})))))},je=a(19),Ue={},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue;arguments.length>1&&arguments[1];return e},xe=a(50),Pe=Object(je.c)({profilePage:S,dialogsPage:ne,sideBar:Se,usersPage:le,auth:be}),De=Object(je.d)(Pe,Object(je.a)(xe.a));i.a.render(r.a.createElement(E.a,{store:De},r.a.createElement(_e,null)),document.getElementById("root")),window.store=De}},[[51,1,2]]]);
//# sourceMappingURL=main.b4abd256.chunk.js.map